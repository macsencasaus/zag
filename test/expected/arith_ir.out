; Zag Readable Intermediate Representation
; Function header formatted as:
; @func[<max-stack-size>](<param-type>,...)

extern @printf(ptr) i32

@main[160]() i32:
    %s[0] = i32 3
    %s[4] = imul i32 %s[0], i32 %s[0]
    %s[4] = i32 %s[4]
    %s[16] = ref i8 %data[0]
    %s[8] = i32 call @printf(ptr %s[16], i32 %s[0], i32 %s[4])
    %s[8] = add i32 1, i32 2
    %s[12] = add i32 %s[8], i32 3
    %s[8] = i32 %s[12]
    %s[16] = ref i8 %data[17]
    %s[12] = i32 call @printf(ptr %s[16], i32 %s[8])
    %s[16] = imul i64 2, i64 3
    %s[24] = add i64 1, i64 %s[16]
    %s[16] = i64 %s[24]
    %s[24] = idiv i64 1, i64 2
    %s[32] = sub i64 %s[24], i64 3
    %s[24] = i64 %s[32]
    %s[32] = imod i64 %s[16], i64 %s[24]
    %s[32] = i64 %s[32]
    %s[48] = ref i8 %data[36]
    %s[40] = i32 call @printf(ptr %s[48], i64 %s[32])
    %s[40] = imul i64 2, i64 2
    %s[48] = imul i64 3, i64 3
    %s[56] = add i64 %s[40], i64 %s[48]
    %s[40] = i64 %s[56]
    %s[56] = ref i8 %data[50]
    %s[48] = i32 call @printf(ptr %s[56], i64 %s[40])
    %s[48] = add i64 2, i64 3
    %s[56] = imul i64 2, i64 %s[48]
    %s[64] = imul i64 %s[56], i64 3
    %s[48] = i64 %s[64]
    %s[64] = ref i8 %data[65]
    %s[56] = i32 call @printf(ptr %s[64], i64 %s[48])
    %s[56] = i32 2
    %s[64] = neg i32 %s[56]
    %s[56] = i32 %s[64]
    %s[64] = lnot i32 %s[56]
    %s[56] = i32 %s[64]
    %s[64] = bnot i32 %s[56]
    %s[56] = i32 %s[64]
    %s[56] = add i32 %s[56], i32 1
    %s[64] = i32 %s[56]
    %s[56] = add i32 %s[56], i32 1
    %s[60] = i32 %s[64]
    %s[56] = sub i32 %s[56], i32 1
    %s[64] = i32 %s[56]
    %s[56] = sub i32 %s[56], i32 1
    %s[60] = i32 %s[64]
    %s[72] = ref i8 %data[80]
    %s[64] = i32 call @printf(ptr %s[72], i32 %s[56], i32 %s[60])
    %s[64] = i32 4
    %s[68] = i32 2
    %s[80] = ref i8 %data[111]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[64])
    %s[80] = ref i8 %data[120]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[68])
    %s[80] = ref i8 %data[129]
    %s[88] = slt i32 %s[64], i32 5
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[141]
    %s[88] = sle i32 %s[64], i32 4
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[154]
    %s[88] = eq i32 %s[64], i32 4
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[167]
    %s[88] = ne i32 %s[64], i32 %s[68]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[181]
    %s[88] = sgt i32 %s[64], i32 %s[68]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[194]
    %s[88] = sge i32 %s[64], i32 %s[68]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[208]
    %s[88] = and i32 %s[64], i32 %s[68]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[221]
    %s[88] = or i32 %s[64], i32 %s[68]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[234]
    %s[88] = xor i32 %s[64], i32 %s[64]
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[247]
    %s[88] = shl i32 %s[64], i32 1
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[80] = ref i8 %data[260]
    %s[88] = ashr i32 %s[64], i32 1
    %s[72] = i32 call @printf(ptr %s[80], i32 %s[88])
    %s[72] = i8 10
    %s[73] = i8 3
    %s[80] = ref i8 %data[273]
    %s[88] = add i8 %s[72], i8 %s[73]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[72], i8 %s[73], i8 %s[88])
    %s[80] = ref i8 %data[291]
    %s[88] = sub i8 %s[72], i8 %s[73]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[72], i8 %s[73], i8 %s[88])
    %s[80] = ref i8 %data[309]
    %s[88] = imul i8 %s[72], i8 %s[73]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[72], i8 %s[73], i8 %s[88])
    %s[80] = ref i8 %data[327]
    %s[88] = idiv i8 %s[72], i8 %s[73]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[72], i8 %s[73], i8 %s[88])
    %s[80] = ref i8 %data[345]
    %s[88] = imod i8 %s[72], i8 %s[73]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[72], i8 %s[73], i8 %s[88])
    %s[74] = i8 10
    %s[75] = i8 3
    %s[80] = ref i8 %data[364]
    %s[88] = add i8 %s[74], i8 %s[75]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[74], i8 %s[75], i8 %s[88])
    %s[80] = ref i8 %data[382]
    %s[88] = sub i8 %s[74], i8 %s[75]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[74], i8 %s[75], i8 %s[88])
    %s[80] = ref i8 %data[400]
    %s[88] = imul i8 %s[74], i8 %s[75]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[74], i8 %s[75], i8 %s[88])
    %s[80] = ref i8 %data[418]
    %s[88] = idiv i8 %s[74], i8 %s[75]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[74], i8 %s[75], i8 %s[88])
    %s[80] = ref i8 %data[436]
    %s[88] = imod i8 %s[74], i8 %s[75]
    %s[76] = i32 call @printf(ptr %s[80], i8 %s[74], i8 %s[75], i8 %s[88])
    %s[76] = i16 1000
    %s[78] = i16 30
    %s[88] = ref i8 %data[455]
    %s[96] = add i16 %s[76], i16 %s[78]
    %s[80] = i32 call @printf(ptr %s[88], i16 %s[76], i16 %s[78], i16 %s[96])
    %s[88] = ref i8 %data[474]
    %s[96] = sub i16 %s[76], i16 %s[78]
    %s[80] = i32 call @printf(ptr %s[88], i16 %s[76], i16 %s[78], i16 %s[96])
    %s[88] = ref i8 %data[493]
    %s[96] = imul i16 %s[76], i16 %s[78]
    %s[80] = i32 call @printf(ptr %s[88], i16 %s[76], i16 %s[78], i16 %s[96])
    %s[88] = ref i8 %data[512]
    %s[96] = idiv i16 %s[76], i16 %s[78]
    %s[80] = i32 call @printf(ptr %s[88], i16 %s[76], i16 %s[78], i16 %s[96])
    %s[88] = ref i8 %data[531]
    %s[96] = imod i16 %s[76], i16 %s[78]
    %s[80] = i32 call @printf(ptr %s[88], i16 %s[76], i16 %s[78], i16 %s[96])
    %s[80] = i16 1000
    %s[82] = i16 30
    %s[88] = ref i8 %data[551]
    %s[96] = add i16 %s[80], i16 %s[82]
    %s[84] = i32 call @printf(ptr %s[88], i16 %s[80], i16 %s[82], i16 %s[96])
    %s[88] = ref i8 %data[570]
    %s[96] = sub i16 %s[80], i16 %s[82]
    %s[84] = i32 call @printf(ptr %s[88], i16 %s[80], i16 %s[82], i16 %s[96])
    %s[88] = ref i8 %data[589]
    %s[96] = imul i16 %s[80], i16 %s[82]
    %s[84] = i32 call @printf(ptr %s[88], i16 %s[80], i16 %s[82], i16 %s[96])
    %s[88] = ref i8 %data[608]
    %s[96] = idiv i16 %s[80], i16 %s[82]
    %s[84] = i32 call @printf(ptr %s[88], i16 %s[80], i16 %s[82], i16 %s[96])
    %s[88] = ref i8 %data[627]
    %s[96] = imod i16 %s[80], i16 %s[82]
    %s[84] = i32 call @printf(ptr %s[88], i16 %s[80], i16 %s[82], i16 %s[96])
    %s[84] = i32 1000000
    %s[88] = i32 3000
    %s[96] = ref i8 %data[647]
    %s[104] = add i32 %s[84], i32 %s[88]
    %s[92] = i32 call @printf(ptr %s[96], i32 %s[84], i32 %s[88], i32 %s[104])
    %s[96] = ref i8 %data[666]
    %s[104] = sub i32 %s[84], i32 %s[88]
    %s[92] = i32 call @printf(ptr %s[96], i32 %s[84], i32 %s[88], i32 %s[104])
    %s[96] = ref i8 %data[685]
    %s[104] = imul i32 %s[84], i32 %s[88]
    %s[92] = i32 call @printf(ptr %s[96], i32 %s[84], i32 %s[88], i32 %s[104])
    %s[96] = ref i8 %data[704]
    %s[104] = idiv i32 %s[84], i32 %s[88]
    %s[92] = i32 call @printf(ptr %s[96], i32 %s[84], i32 %s[88], i32 %s[104])
    %s[96] = ref i8 %data[723]
    %s[104] = imod i32 %s[84], i32 %s[88]
    %s[92] = i32 call @printf(ptr %s[96], i32 %s[84], i32 %s[88], i32 %s[104])
    %s[92] = i32 1000000
    %s[96] = i32 3000
    %s[104] = ref i8 %data[743]
    %s[112] = add i32 %s[92], i32 %s[96]
    %s[100] = i32 call @printf(ptr %s[104], i32 %s[92], i32 %s[96], i32 %s[112])
    %s[104] = ref i8 %data[762]
    %s[112] = sub i32 %s[92], i32 %s[96]
    %s[100] = i32 call @printf(ptr %s[104], i32 %s[92], i32 %s[96], i32 %s[112])
    %s[104] = ref i8 %data[781]
    %s[112] = imul i32 %s[92], i32 %s[96]
    %s[100] = i32 call @printf(ptr %s[104], i32 %s[92], i32 %s[96], i32 %s[112])
    %s[104] = ref i8 %data[800]
    %s[112] = idiv i32 %s[92], i32 %s[96]
    %s[100] = i32 call @printf(ptr %s[104], i32 %s[92], i32 %s[96], i32 %s[112])
    %s[104] = ref i8 %data[819]
    %s[112] = imod i32 %s[92], i32 %s[96]
    %s[100] = i32 call @printf(ptr %s[104], i32 %s[92], i32 %s[96], i32 %s[112])
    %s[104] = i64 1000000000
    %s[112] = i64 300000
    %s[128] = ref i8 %data[839]
    %s[136] = add i64 %s[104], i64 %s[112]
    %s[120] = i32 call @printf(ptr %s[128], i64 %s[104], i64 %s[112], i64 %s[136])
    %s[128] = ref i8 %data[864]
    %s[136] = sub i64 %s[104], i64 %s[112]
    %s[120] = i32 call @printf(ptr %s[128], i64 %s[104], i64 %s[112], i64 %s[136])
    %s[128] = ref i8 %data[889]
    %s[136] = imul i64 %s[104], i64 %s[112]
    %s[120] = i32 call @printf(ptr %s[128], i64 %s[104], i64 %s[112], i64 %s[136])
    %s[128] = ref i8 %data[914]
    %s[136] = idiv i64 %s[104], i64 %s[112]
    %s[120] = i32 call @printf(ptr %s[128], i64 %s[104], i64 %s[112], i64 %s[136])
    %s[128] = ref i8 %data[939]
    %s[136] = imod i64 %s[104], i64 %s[112]
    %s[120] = i32 call @printf(ptr %s[128], i64 %s[104], i64 %s[112], i64 %s[136])
    %s[120] = i64 1000000000
    %s[128] = i64 300000
    %s[144] = ref i8 %data[965]
    %s[152] = add i64 %s[120], i64 %s[128]
    %s[136] = i32 call @printf(ptr %s[144], i64 %s[120], i64 %s[128], i64 %s[152])
    %s[144] = ref i8 %data[990]
    %s[152] = sub i64 %s[120], i64 %s[128]
    %s[136] = i32 call @printf(ptr %s[144], i64 %s[120], i64 %s[128], i64 %s[152])
    %s[144] = ref i8 %data[1015]
    %s[152] = imul i64 %s[120], i64 %s[128]
    %s[136] = i32 call @printf(ptr %s[144], i64 %s[120], i64 %s[128], i64 %s[152])
    %s[144] = ref i8 %data[1040]
    %s[152] = idiv i64 %s[120], i64 %s[128]
    %s[136] = i32 call @printf(ptr %s[144], i64 %s[120], i64 %s[128], i64 %s[152])
    %s[144] = ref i8 %data[1065]
    %s[152] = imod i64 %s[120], i64 %s[128]
    %s[136] = i32 call @printf(ptr %s[144], i64 %s[120], i64 %s[128], i64 %s[152])
    ret i32 0


Data:
  0: 73 71 75 61 72 65 28 25 64 29 20 3D          square(%d).=
  c: 20 25 64  A  0 73 75 6D 28 31 2C 20          .%d..sum(1,.
 18: 32 2C 20 33 29 20 3D 20 25 64  A  0          2,.3).=.%d..
 24: 70 72 65 63 28 29 3A 20 25 6C 6C 64          prec():.%lld
 30:  A  0 70 72 65 63 32 28 29 3A 20 25          ..prec2():.%
 3c: 6C 6C 64  A  0 70 72 65 63 33 28 29          lld..prec3()
 48: 3A 20 25 6C 6C 64  A  0 70 72 65 66          :.%lld..pref
 54: 69 78 20 72 65 73 75 6C 74 3A 20 78          ix.result:.x
 60: 20 3D 20 25 64 2C 20 79 20 3D 20 25          .=.%d,.y.=.%
 6c: 64  A  0 62 78 20 3D 20 25 64  A  0          d..bx.=.%d..
 78: 62 79 20 3D 20 25 64  A  0 62 78 20          by.=.%d..bx.
 84: 3C 20 35 3A 20 25 64  A  0 62 78 20          <.5:.%d..bx.
 90: 3C 3D 20 34 3A 20 25 64  A  0 62 78          <=.4:.%d..bx
 9c: 20 3D 3D 20 34 3A 20 25 64  A  0 62          .==.4:.%d..b
 a8: 78 20 21 3D 20 62 79 3A 20 25 64  A          x.!=.by:.%d.
 b4:  0 62 78 20 3E 20 62 79 3A 20 25 64          .bx.>.by:.%d
 c0:  A  0 62 78 20 3E 3D 20 62 79 3A 20          ..bx.>=.by:.
 cc: 25 64  A  0 62 78 20 26 20 62 79 3A          %d..bx.&.by:
 d8: 20 25 64  A  0 62 78 20 7C 20 62 79          .%d..bx.|.by
 e4: 3A 20 25 64  A  0 62 78 20 5E 20 62          :.%d..bx.^.b
 f0: 78 3A 20 25 64  A  0 62 78 20 3C 3C          x:.%d..bx.<<
 fc: 20 31 3A 20 25 64  A  0 62 78 20 3E          .1:.%d..bx.>
108: 3E 20 31 3A 20 25 64  A  0 75 38 3A          >.1:.%d..u8:
114: 20 25 75 20 2B 20 25 75 20 3D 20 25          .%u.+.%u.=.%
120: 75  A  0 75 38 3A 20 25 75 20 2D 20          u..u8:.%u.-.
12c: 25 75 20 3D 20 25 75  A  0 75 38 3A          %u.=.%u..u8:
138: 20 25 75 20 2A 20 25 75 20 3D 20 25          .%u.*.%u.=.%
144: 75  A  0 75 38 3A 20 25 75 20 2F 20          u..u8:.%u./.
150: 25 75 20 3D 20 25 75  A  0 75 38 3A          %u.=.%u..u8:
15c: 20 25 75 20 25 25 20 25 75 20 3D 20          .%u.%%.%u.=.
168: 25 75  A  0 69 38 3A 20 25 64 20 2B          %u..i8:.%d.+
174: 20 25 64 20 3D 20 25 64  A  0 69 38          .%d.=.%d..i8
180: 3A 20 25 64 20 2D 20 25 64 20 3D 20          :.%d.-.%d.=.
18c: 25 64  A  0 69 38 3A 20 25 64 20 2A          %d..i8:.%d.*
198: 20 25 64 20 3D 20 25 64  A  0 69 38          .%d.=.%d..i8
1a4: 3A 20 25 64 20 2F 20 25 64 20 3D 20          :.%d./.%d.=.
1b0: 25 64  A  0 69 38 3A 20 25 64 20 25          %d..i8:.%d.%
1bc: 25 20 25 64 20 3D 20 25 64  A  0 75          %.%d.=.%d..u
1c8: 31 36 3A 20 25 75 20 2B 20 25 75 20          16:.%u.+.%u.
1d4: 3D 20 25 75  A  0 75 31 36 3A 20 25          =.%u..u16:.%
1e0: 75 20 2D 20 25 75 20 3D 20 25 75  A          u.-.%u.=.%u.
1ec:  0 75 31 36 3A 20 25 75 20 2A 20 25          .u16:.%u.*.%
1f8: 75 20 3D 20 25 75  A  0 75 31 36 3A          u.=.%u..u16:
204: 20 25 75 20 2F 20 25 75 20 3D 20 25          .%u./.%u.=.%
210: 75  A  0 75 31 36 3A 20 25 75 20 25          u..u16:.%u.%
21c: 25 20 25 75 20 3D 20 25 75  A  0 69          %.%u.=.%u..i
228: 31 36 3A 20 25 64 20 2B 20 25 64 20          16:.%d.+.%d.
234: 3D 20 25 64  A  0 69 31 36 3A 20 25          =.%d..i16:.%
240: 64 20 2D 20 25 64 20 3D 20 25 64  A          d.-.%d.=.%d.
24c:  0 69 31 36 3A 20 25 64 20 2A 20 25          .i16:.%d.*.%
258: 64 20 3D 20 25 64  A  0 69 31 36 3A          d.=.%d..i16:
264: 20 25 64 20 2F 20 25 64 20 3D 20 25          .%d./.%d.=.%
270: 64  A  0 69 31 36 3A 20 25 64 20 25          d..i16:.%d.%
27c: 25 20 25 64 20 3D 20 25 64  A  0 75          %.%d.=.%d..u
288: 33 32 3A 20 25 75 20 2B 20 25 75 20          32:.%u.+.%u.
294: 3D 20 25 75  A  0 75 33 32 3A 20 25          =.%u..u32:.%
2a0: 75 20 2D 20 25 75 20 3D 20 25 75  A          u.-.%u.=.%u.
2ac:  0 75 33 32 3A 20 25 75 20 2A 20 25          .u32:.%u.*.%
2b8: 75 20 3D 20 25 75  A  0 75 33 32 3A          u.=.%u..u32:
2c4: 20 25 75 20 2F 20 25 75 20 3D 20 25          .%u./.%u.=.%
2d0: 75  A  0 75 33 32 3A 20 25 75 20 25          u..u32:.%u.%
2dc: 25 20 25 75 20 3D 20 25 75  A  0 69          %.%u.=.%u..i
2e8: 33 32 3A 20 25 64 20 2B 20 25 64 20          32:.%d.+.%d.
2f4: 3D 20 25 64  A  0 69 33 32 3A 20 25          =.%d..i32:.%
300: 64 20 2D 20 25 64 20 3D 20 25 64  A          d.-.%d.=.%d.
30c:  0 69 33 32 3A 20 25 64 20 2A 20 25          .i32:.%d.*.%
318: 64 20 3D 20 25 64  A  0 69 33 32 3A          d.=.%d..i32:
324: 20 25 64 20 2F 20 25 64 20 3D 20 25          .%d./.%d.=.%
330: 64  A  0 69 33 32 3A 20 25 64 20 25          d..i32:.%d.%
33c: 25 20 25 64 20 3D 20 25 64  A  0 75          %.%d.=.%d..u
348: 36 34 3A 20 25 6C 6C 75 20 2B 20 25          64:.%llu.+.%
354: 6C 6C 75 20 3D 20 25 6C 6C 75  A  0          llu.=.%llu..
360: 75 36 34 3A 20 25 6C 6C 75 20 2D 20          u64:.%llu.-.
36c: 25 6C 6C 75 20 3D 20 25 6C 6C 75  A          %llu.=.%llu.
378:  0 75 36 34 3A 20 25 6C 6C 75 20 2A          .u64:.%llu.*
384: 20 25 6C 6C 75 20 3D 20 25 6C 6C 75          .%llu.=.%llu
390:  A  0 75 36 34 3A 20 25 6C 6C 75 20          ..u64:.%llu.
39c: 2F 20 25 6C 6C 75 20 3D 20 25 6C 6C          /.%llu.=.%ll
3a8: 75  A  0 75 36 34 3A 20 25 6C 6C 75          u..u64:.%llu
3b4: 20 25 25 20 25 6C 6C 75 20 3D 20 25          .%%.%llu.=.%
3c0: 6C 6C 75  A  0 69 36 34 3A 20 25 6C          llu..i64:.%l
3cc: 6C 64 20 2B 20 25 6C 6C 64 20 3D 20          ld.+.%lld.=.
3d8: 25 6C 6C 64  A  0 69 36 34 3A 20 25          %lld..i64:.%
3e4: 6C 6C 64 20 2D 20 25 6C 6C 64 20 3D          lld.-.%lld.=
3f0: 20 25 6C 6C 64  A  0 69 36 34 3A 20          .%lld..i64:.
3fc: 25 6C 6C 64 20 2A 20 25 6C 6C 64 20          %lld.*.%lld.
408: 3D 20 25 6C 6C 64  A  0 69 36 34 3A          =.%lld..i64:
414: 20 25 6C 6C 64 20 2F 20 25 6C 6C 64          .%lld./.%lld
420: 20 3D 20 25 6C 6C 64  A  0 69 36 34          .=.%lld..i64
42c: 3A 20 25 6C 6C 64 20 25 25 20 25 6C          :.%lld.%%.%l
438: 6C 64 20 3D 20 25 6C 6C 64  A  0             ld.=.%lld..
